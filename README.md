# Office Phones Coursework

## Описание проекта

Веб-приложение для управления корпоративной служебной сотовой связью сотрудников. Проект реализует систему учета и контроля использования мобильных телефонов сотрудниками компании с возможностью отслеживания расходов и превышения лимитов.

## Архитектура приложения

Проект построен по модели MVC (Model-View-Controller) и включает следующие компоненты:

- **Flask** - веб-фреймворк на Python
- **MySQL** - реляционная база данных
- **Docker** - контейнеризация сервисов

## Функциональные модули

- **auth** - аутентификация и авторизация пользователей с различными уровнями доступа
- **query** - работа с запросами к базе данных
- **report** - генерация отчетов по превышению лимитов
- **staff_edit** - управление информацией о сотрудниках

## Уровни доступа

- **Сотрудник** - ограниченный доступ к своим данным
- **Руководство** - доступ к информации по подразделению
- **Админ** - полный доступ ко всем функциям системы

## Структура базы данных

- **user** - информация о пользователях и их правах
- **staff** - данные о сотрудниках
- **bcc** - информация о служебных телефонах и лимитах
- **limit_exceed** - данные о превышении лимитов
- **exceed_report** - отчеты о неоплаченных превышениях
- **paid_exceed_report** - отчеты об оплаченных превышениях
- **invoice/invoice_line** - счета и строки счетов
- **payment/payment_line** - платежи и строки платежей

## Запуск приложения

### Требования
- Docker
- Docker Compose
- Python 3.x

### Команды Makefile

```bash
# Сборка проекта
make build

# Запуск проекта
make run

# Полный цикл (остановка, сборка, запуск)
make flow

# Остановка проекта
make stop

# Очистка
make clean
```

### Альтернативный запуск

```bash
# Запуск с помощью Docker Compose
docker-compose up --build

# Запуск в фоне
docker-compose up -d --build
```

## Инициализация базы данных

При первом запуске автоматически выполняется скрипт `/migrations/init.sql`, который создает все необходимые таблицы и заполняет их тестовыми данными.

## Тестовые учетные записи

После инициализации доступны следующие учетные записи:

- **Администраторы**: admin1, admin2
- **Руководители**: management1, management2
- **Сотрудники**: employee1-employee10

## Скриншоты и диаграммы

В папке `/media` находятся диаграммы и скриншоты интерфейса приложения:
- Диаграммы UML и BPMN
- Скриншоты меню и форм
- Документация по курсовой работе

## Стек технологий

- Python (Flask)
- MySQL
- HTML/CSS/JavaScript
- Docker
- Make
